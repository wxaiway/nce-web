# NCE - 新概念英语在线学习平台

一个现代化的新概念英语在线点读应用，提供流畅的学习体验和丰富的功能。

## ✨ 核心特性

- 🎨 **现代 UI 设计**: Apple 风格界面，深浅色主题自适应
- 📖 **句子级点读**: 精确到每个句子的音频播放
- 🎯 **多种学习模式**: 点读、发音练习、标准学习、课程复习、连贯学习
- 🌐 **三种语言模式**: 英文、双语、中文自由切换
- ⌨️ **全局快捷键**: 空格、方向键等快捷操作
- 📱 **完美响应式**: 适配桌面、平板、手机各种设备
- 🍎 **iOS 深度优化**: Safari 完美兼容，触摸体验优化
- 💾 **学习进度保存**: 自动记录学习位置和进度
- 📝 **课程讲解**: 支持 Markdown 格式的课程讲解内容

## 🚀 快速开始

### 环境要求

- Node.js >= 16.0.0
- npm >= 7.0.0

### 安装步骤

```bash
# 1. 克隆项目
git clone https://github.com/wxaiway/nce-web.git
cd nce-web

# 2. 安装依赖
npm install

# 3. 启动开发服务器
npm run dev

# 访问 http://localhost:8080/nce/
```

### 构建生产版本

```bash
# 构建
npm run build

# 构建产物在 dist/ 目录
```

## 📖 功能详解

### 🎵 音频播放

- **句子级点读**: 点击任意句子即可播放
- **播放模式**:
  - 📖 点读模式 - 点击句子播放，适合精读
  - 🔁 发音练习 - 重复播放当前句，适合跟读
  - 📚 标准学习 - 自动播放整课，播完停止（推荐）
  - 🔄 课程复习 - 重复播放当前课，巩固记忆
  - ⏭️ 连贯学习 - 自动播放下一课，系统学习
- **播放速度**: 0.75x - 2.0x 可调
- **自动高亮**: 当前播放句子自动高亮
- **平滑滚动**: 自动滚动到当前句子（可关闭）
- **音量记忆**: 音量设置自动保存

### 🌐 语言切换

- **EN**: 仅显示英文
- **EN+CN**: 双语对照（默认）
- **CN**: 仅显示中文

支持 PC 端按钮和移动端下拉选择，设置自动保存。

### 📝 课程讲解

- 支持 Markdown 格式的课程讲解
- 自动加载课程专属讲解文件
- 不存在时显示默认提示
- 支持标题、列表、代码、引用等 Markdown 语法

### 📊 学习进度

自动保存以下信息：
- 当前播放位置
- 学习进度百分比
- 累计学习时长
- 最后学习时间

### ⌨️ 快捷键

| 快捷键 | 功能 |
|--------|------|
| `Space` | 播放/暂停 |
| `R` | 重播当前句 |
| `M` | 静音/取消静音 |
| `→` / `D` | 下一句 |
| `←` / `A` | 上一句 |
| `↑` | 音量增加 |
| `↓` | 音量减少 |
| `Shift + →` | 快进 5 秒 |
| `Shift + ←` | 快退 5 秒 |
| `1-9` | 跳转到 10%-90% |
| `?` / `H` | 显示快捷键帮助 |
| `ESC` | 关闭面板 |

### 📱 移动端优化

- **触摸优化**: 44px 最小触摸目标
- **移动端控制栏**: 快退、快进、静音等快捷操作
- **iOS 音频解锁**: 自动处理 iOS 音频播放限制
- **Safari 兼容**: 完美支持 iOS Safari 浏览器

## 🛠️ 技术栈

- **构建工具**: Vite 5.x
- **前端**: 原生 JavaScript (ES6+ Modules) + 原生 CSS (模块化)
- **Markdown**: marked.js
- **代码质量**: ESLint + Prettier
- **架构**: 模块化设计，零运行时依赖

## 🎨 设计特点

### 颜色系统

- **深色模式**: 默认主题，护眼舒适
- **浅色模式**: 自动适配系统偏好
- **主色调**: Apple 蓝 (#0a84ff)
- **辅助色**: 紫色 (#7c4dff)

### 交互设计

- **平滑动画**: 0.3s ease 过渡
- **卡片设计**: 圆角 14px
- **阴影效果**: 层次分明
- **触摸反馈**: 移动端按压效果

## 🔧 使用指南

### 添加新课程

1. 在 `public/NCE{n}/` 目录下添加：
   - `{filename}.mp3` - 音频文件
   - `{filename}.lrc` - 字幕文件
   - `{filename}.md` - 讲解文件（可选）

2. 更新 `public/static/data.json`

### 自定义主题

修改 `src/css/base.css` 中的 CSS 变量即可自定义颜色、间距、圆角等样式。

### 参与开发

如果你想参与项目开发或贡献代码，请查看 [CONTRIBUTING.md](CONTRIBUTING.md) 了解详细的开发指南。

## 🐛 常见问题

### iOS Safari 音频无法播放

项目已内置 iOS 音频解锁功能，会在用户首次交互时自动解锁。

### 如何切换语言模式？

点击页面右上角的语言切换按钮（EN / EN+CN / CN），设置会自动保存。

### 学习进度会保存吗？

会的。系统会自动保存您的学习位置、进度百分比和学习时长，下次打开会自动恢复。

### 支持哪些浏览器？

支持所有现代浏览器：Chrome、Firefox、Safari、Edge 等。移动端完美支持 iOS Safari 和 Android Chrome。

## 📄 许可证

MIT License

## 🙏 致谢

本项目基于 [NCE-Flow](https://github.com/luzhenhua/NCE-Flow) 重构，保留核心功能，优化代码架构。

## 📮 联系方式

- 项目地址: https://github.com/wxaiway/nce-web
- 问题反馈: https://github.com/wxaiway/nce-web/issues

---

**享受学习新概念英语的乐趣！** 🎉
